import{_ as n,c as s,o as a,d as p}from"./app.a0f52c8e.js";const b='{"title":"element-ui","description":"","frontmatter":{},"headers":[{"level":3,"title":"\u76EE\u5F55\u7ED3\u6784","slug":"\u76EE\u5F55\u7ED3\u6784"},{"level":3,"title":"packages","slug":"packages"},{"level":3,"title":"theme-chalk","slug":"theme-chalk"},{"level":3,"title":"server eleemnt \u6587\u6863bcos\u90E8\u7F72","slug":"server-eleemnt-\u6587\u6863bcos\u90E8\u7F72"},{"level":3,"title":"src","slug":"src"},{"level":3,"title":"build","slug":"build"},{"level":2,"title":"package.json scripts","slug":"package-json-scripts"}],"relativePath":"guide/FrontEnd/ElementUI/1.\u76EE\u5F55\u7ED3\u6784.md"}',t={},o=p(`<h1 id="element-ui" tabindex="-1">element-ui <a class="header-anchor" href="#element-ui" aria-hidden="true">#</a></h1><h3 id="\u76EE\u5F55\u7ED3\u6784" tabindex="-1">\u76EE\u5F55\u7ED3\u6784 <a class="header-anchor" href="#\u76EE\u5F55\u7ED3\u6784" aria-hidden="true">#</a></h3><ol><li>build \u6784\u5EFA\u76F8\u5173\u7684\u6587\u6863</li><li>examples \u6587\u6863\u793A\u4F8B</li><li>lib \u6253\u5305\u540E\u751F\u6210\u7684\u6587\u4EF6\uFF0C\u521A\u62C9\u4E0B\u6765\u7684\u4EE3\u7801\u6CA1\u6709\u8FD9\u4E2A\u76EE\u5F55\uFF0C\u4E4B\u540E\u6253\u5305\u8FC7\u4EE5\u540E\u624D\u4F1A\u4EA7\u751F\u8FD9\u4E2A\u76EE\u5F55\uFF0C\u8FD9\u4E2A\u76EE\u5F55\u91CC\u9762\u7684\u6587\u4EF6\u5C31\u662F\u6211\u4EEC\u5B89\u88C5\u5728node_modules \u91CC\u9762\u7684\u6587\u4EF6\u3002</li><li>packages \u7EC4\u4EF6\u7684\u603B\u6587\u4EF6\u5939\uFF0C\u5305\u542B\u903B\u8F91\u548C\u6837\u5F0F\u6587\u4EF6\u3002</li><li>server \u90E8\u7F72\u6587\u6863\u76F8\u5173</li><li>src \u7EC4\u4EF6\u6784\u5EFA\u76F8\u5173</li><li>test \u6D4B\u8BD5\u7528\u4F8B</li><li>types \u76F8\u5173\u7684</li><li>components.json \u7EC4\u4EF6\u6CE8\u518C\u6784\u5EFA\u7684\u65F6\u5019\u6309\u7167\u8FD9\u4E2A\u6587\u4EF6\u4FBF\u5229</li></ol><blockquote><p>\u91CC\u9762\u5305\u542B\u4E86\u4E09\u4E2A\u9879\u76EE\uFF0C\u7EC4\u4EF6\u4E00\u4E2A\uFF0C \u6837\u5F0F\u4E00\u4E2A\uFF0C\u8FD8\u6709\u6587\u6863\u4E00\u4E2A</p></blockquote><h3 id="packages" tabindex="-1">packages <a class="header-anchor" href="#packages" aria-hidden="true">#</a></h3><p>\u251C\u2500\u7EC4\u4EF6\u540D\u79F0 \u2502 \u2502 \u7EC4\u4EF6\u6CE8\u518C.js \u2502 \u2502 \u2502 \u2514\u2500src \u2502 \u7EC4\u4EF6\u7684dom\u4EE5\u53CA\u903B\u8F91.vue</p><p>\u251C\u2500theme-chalk \u4E3B\u9898\u76EE\u5F55</p><div class="language-js"><pre><code><span class="token comment">// main.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;tooltip-container&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>tooltip
      <span class="token operator">:</span>content<span class="token operator">=</span><span class="token string">&quot;\`\${words}\`&quot;</span>
      <span class="token operator">:</span>disabled<span class="token operator">=</span><span class="token string">&quot;isShow&quot;</span>
      v<span class="token operator">-</span>ellipsis<span class="token operator">=</span><span class="token string">&quot;{ellipsis}&quot;</span>
      <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item&quot;</span>
      effect<span class="token operator">=</span><span class="token string">&quot;dark&quot;</span>
      placement<span class="token operator">=</span><span class="token string">&quot;top&quot;</span>
    <span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>slot <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>tooltip<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> ElTooltip <span class="token keyword">from</span> <span class="token string">&#39;element-ui/packages/tooltip&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;BaseToolTip&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u6CE8\u518C\u7EC4\u4EF6\u7684\u540D\u5B57 </span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    ElTooltip
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">words</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>


<span class="token comment">// index.js</span>
<span class="token keyword">import</span> BaseToolTip <span class="token keyword">from</span> <span class="token string">&#39;./src/tip&#39;</span><span class="token punctuation">;</span>

BaseToolTip<span class="token punctuation">.</span><span class="token function-variable function">install</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">Vue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span>BaseToolTip<span class="token punctuation">.</span>name<span class="token punctuation">,</span> BaseToolTip<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> BaseToolTip<span class="token punctuation">;</span>
</code></pre></div><h3 id="theme-chalk" tabindex="-1">theme-chalk <a class="header-anchor" href="#theme-chalk" aria-hidden="true">#</a></h3><blockquote><p>theme-chalk</p><p>\u2502 .gitignore \u2502 gulpfile.js \u2502 package.json \u2502 <a href="http://README.md" target="_blank" rel="noopener noreferrer">README.md</a> \u2502 \u251C\u2500lib \u6253\u5305\u540E\u7684\u6587\u4EF6\u76EE\u5F55 \u2502 \u2514\u2500src \u2502 tooltip.scss element\u5B57\u5178\u7684\u7EC4\u4EF6\u7684\u6837\u5F0F\u5199\u5728 src\u6839\u76EE\u5F55\u4E0B \u2502 \u251C\u2500boncloud \u516C\u6709\u4E91\u7EC4\u4EF6\u6837\u5F0F \u2502 base-button.scss \u2502 table.scss \u2502 \u251C\u2500common \u2502 boncloud.scss \u516C\u6709\u4E91\u7684\u53D8\u91CF \u548C mixins \u2502 popup.scss element \u7684\u4E00\u4E9B animation \u6837\u5F0F \u2502 transition.scss element \u81EA\u5E26\u7684\u4E00\u4E9B \u8FC7\u5EA6\u52A8\u753B\u6837\u5F0F \u2502 var.scss element\u7684\u53D8\u91CF \u2502 \u251C\u2500date-picker eleemnt date-picker \u6837\u5F0F \u2502 date-picker.scss \u2502 date-range-picker.scss \u2502 date-table.scss \u2502 month-table.scss \u2502 picker-panel.scss \u2502 picker.scss \u2502 time-picker.scss \u2502 time-range-picker.scss \u2502 time-spinner.scss \u2502 year-table.scss \u2502 \u251C\u2500fonts \u5B57\u4F53 \u53EA\u9700\u8981\u5F15\u5165tff \u548C woff \u5C31\u53EF\u4EE5 \u2502 element-icons.ttf \u2502 element-icons.woff \u2502 iconfont.ttf \u2502 iconfont.woff \u2502 \u2514\u2500mixins scss\u6587\u4EF6\u7684\u4E00\u4E9B mixins config.scss \u57FA\u672C\u7684\u914D\u7F6E\u53D8\u91CF<br> function.scss mixins.scss utils.scss _button.scss</p></blockquote><p>theme-chalk \u76EE\u5F55\u4E0B\u9762\u662F\u4E00\u4E2A\u5355\u72EC\u7684\u9879\u76EE\uFF0C\u9879\u76EE\u4E3B\u8981\u662F\u7528\u6765\u6253\u5305\u6837\u5F0F\u7684\u3002</p><div class="language-js"><pre><code><span class="token string-property property">&quot;build:theme&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node build/bin/gen-cssfile &amp;&amp; gulp build --gulpfile packages/theme-chalk/gulpfile.js &amp;&amp; cp-cli packages/theme-chalk/lib lib/theme-chalk&quot;</span>

<span class="token comment">// \u4F7F\u7528 npm run build:theme \u5BF9\u4E3B\u9898\u8FDB\u9879\u5355\u72EC\u6253\u5305</span>


<span class="token comment">// gen-cssfile \u6587\u4EF6\u5185\u5BB9  </span>
<span class="token comment">// \u4E3B\u8981\u7684\u529F\u80FD\u662F \u83B7\u53D6components.json \u6CE8\u518C\u7684\u7EC4\u4EF6 \u628A\u8DEF\u5F84\u5199\u5230 </span>
<span class="token keyword">var</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Components <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../../components.json&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> themes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">&#39;theme-chalk&#39;</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
Components <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>Components<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> basepath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../../packages/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> isBoncloud <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PATH_ENV</span> <span class="token operator">===</span> <span class="token string">&#39;boncloud&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// \u8FD4\u56DE\u6587\u4EF6\u8DEF\u5F84 boncloud \u7EC4\u4EF6\u4F4D\u7F6E\u5728src/boncloud</span>
<span class="token keyword">function</span> <span class="token function">getFilePath</span><span class="token punctuation">(</span><span class="token parameter">fileName<span class="token punctuation">,</span> theme</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>fileName<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&#39;base-&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>basepath<span class="token punctuation">,</span> theme<span class="token punctuation">,</span> <span class="token string">&#39;src/boncloud&#39;</span><span class="token punctuation">,</span> fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>basepath<span class="token punctuation">,</span> theme<span class="token punctuation">,</span> <span class="token string">&#39;src&#39;</span><span class="token punctuation">,</span> fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u6587\u4EF6\u540D\u79F0  boncloud \u7EC4\u4EF6\u4F4D\u7F6E\u5728src/boncloud</span>
<span class="token keyword">function</span> <span class="token function">getFileName</span><span class="token punctuation">(</span><span class="token parameter">fileName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> fileName<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&#39;base-&#39;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">boncloud/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>fileName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span> <span class="token operator">:</span> fileName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">fileExists</span><span class="token punctuation">(</span><span class="token parameter">filePath</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> fs<span class="token punctuation">.</span><span class="token function">statSync</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

themes<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">theme</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> isSCSS <span class="token operator">=</span> theme <span class="token operator">!==</span> <span class="token string">&#39;theme-default&#39;</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> indexContent <span class="token operator">=</span> isSCSS <span class="token operator">?</span> <span class="token string">&#39;@import &quot;./base.scss&quot;;\\n&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;@import &quot;./base.css&quot;;\\n&#39;</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  Components<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;icon&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;option&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;option-group&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>key<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&#39;base-&#39;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>isBoncloud <span class="token operator">&amp;&amp;</span> flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        indexContent <span class="token operator">+=</span> <span class="token string">&#39;@import &quot;./boncloud/index.scss&quot;;\\n&#39;</span><span class="token punctuation">;</span>
        indexContent <span class="token operator">+=</span> <span class="token string">&#39;@import &quot;./iconfont.scss&quot;;\\n&#39;</span><span class="token punctuation">;</span>
        flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> fileName <span class="token operator">=</span> key <span class="token operator">+</span> <span class="token punctuation">(</span>isSCSS <span class="token operator">?</span> <span class="token string">&#39;.scss&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;.css&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    indexContent <span class="token operator">+=</span> <span class="token string">&#39;@import &quot;./&#39;</span> <span class="token operator">+</span> <span class="token function">getFileName</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;&quot;;\\n&#39;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> filePath <span class="token operator">=</span> <span class="token function">getFilePath</span><span class="token punctuation">(</span>fileName<span class="token punctuation">,</span> theme<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">fileExists</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      fs<span class="token punctuation">.</span><span class="token function">writeFileSync</span><span class="token punctuation">(</span>filePath<span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf8&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>theme<span class="token punctuation">,</span> <span class="token string">&#39; \u521B\u5EFA\u9057\u6F0F\u7684 &#39;</span><span class="token punctuation">,</span> fileName<span class="token punctuation">,</span> <span class="token string">&#39; \u6587\u4EF6&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  fs<span class="token punctuation">.</span><span class="token function">writeFileSync</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>basepath<span class="token punctuation">,</span> theme<span class="token punctuation">,</span> <span class="token string">&#39;src&#39;</span><span class="token punctuation">,</span> isSCSS <span class="token operator">?</span> <span class="token string">&#39;index.scss&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;index.css&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> indexContent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>\u6837\u5F0F\u95EE\u4EF7\u4F60\u5355\u72EC\u6253\u5305\u4F7F\u7528gulp-dart-sass\u5BF9scss \u6587\u4EF6\u8FDB\u884C\u6253\u5305\u3002</p><div class="language-js"><pre><code><span class="token comment">// gulp-dart-sass \u6253\u5305\u5165\u53E3\u6587\u4EF6 gulpfile.js</span>
<span class="token string">&#39;use strict&#39;</span><span class="token punctuation">;</span> <span class="token comment">// \u4F7F\u7528js \u7684\u4E25\u683C\u6A21\u5F0F</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> series<span class="token punctuation">,</span> src<span class="token punctuation">,</span> dest <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;gulp&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> sass <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;gulp-dart-sass&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> autoprefixer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;gulp-autoprefixer&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> cssmin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;gulp-cssmin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u6253\u5305src\u4E0B\u9762\u7684\u6587\u4EF6</span>
<span class="token keyword">function</span> <span class="token function">compile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&#39;./src/*.scss&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>sass<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span> sass<span class="token punctuation">.</span>logError<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">autoprefixer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">overrideBrowserslist</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;ie &gt; 9&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;last 2 versions&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">cascade</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">cssmin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&#39;./lib&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u590D\u5236font\u6587\u4EF6</span>
<span class="token keyword">function</span> <span class="token function">copyfont</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&#39;./src/fonts/**&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">cssmin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&#39;./lib/fonts&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u6253\u5305 \u516C\u6709\u4E91\u7EC4\u4EF6\u7684\u6837\u5F0F</span>
<span class="token keyword">function</span> <span class="token function">boncloudFIle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&#39;./src/boncloud/*.scss&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>sass<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span> sass<span class="token punctuation">.</span>logError<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">autoprefixer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">overrideBrowserslist</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;ie &gt; 9&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;last 2 versions&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">cascade</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">cssmin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&#39;./lib/bonclod&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// src \u5165\u53E3\u6587\u4EF6\u4F4D\u7F6E dest \u8F93\u51FA\u7684\u6587\u4EF6\u4F4D\u7F6E autoprefixer\u9009\u62E9\u9002\u914D\u7684\u6D4F\u89C8\u5668 \u53EA\u6DFB\u52A0\u76F8\u5173\u7684css\u524D\u7F00  cssmin css\u538B\u7F29</span>

exports<span class="token punctuation">.</span>build <span class="token operator">=</span> <span class="token function">series</span><span class="token punctuation">(</span>compile<span class="token punctuation">,</span> boncloudFIle<span class="token punctuation">,</span> copyfont<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="server-eleemnt-\u6587\u6863bcos\u90E8\u7F72" tabindex="-1">server eleemnt \u6587\u6863bcos\u90E8\u7F72 <a class="header-anchor" href="#server-eleemnt-\u6587\u6863bcos\u90E8\u7F72" aria-hidden="true">#</a></h3><div class="language-js"><pre><code> <span class="token string-property property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pm2 start server/ecosystem.config.js &amp;&amp; pm2 log&quot;</span>
 npm run start  <span class="token comment">// \u542F\u52A8\u670D\u52A1</span>
</code></pre></div><h3 id="src" tabindex="-1">src <a class="header-anchor" href="#src" aria-hidden="true">#</a></h3><blockquote><p>src \u2502 index.js \u7EC4\u4EF6\u5E93\u7684index \u6587\u4EF6 \u2502 \u251C\u2500directives \u6307\u4EE4 \u2502 mousewheel.js \u2502 repeat-click.js \u2502 \u251C\u2500locale<br> \u2502 \u2502 format.js \u2502 \u2502 index.js \u2502 \u2502 \u2502 \u2514\u2500lang \u8BED\u8A00\u5427 \u2502 af-ZA.js \u251C\u2500mixins \u5E94\u8BE5\u662F\u4E00\u4E9B\u901A\u7528\u7684\u51FD\u6570\u3002 \u2502 emitter.js \u2502 focus.js \u2502 locale.js \u2502 migrating.js \u2502 \u251C\u2500transitions \u2502 collapse-transition.js \u2502 \u2514\u2500utils \u5DE5\u5177\u7C7B\u7684\u51FD\u6570 \u2502 after-leave.js \u2502 aria-dialog.js \u2502 aria-utils.js \u2502 clickoutside.js \u2502 date-util.js \u2502 date.js \u2502 dom.js \u2502 merge.js \u2502 popper.js \u2502 resize-event.js \u2502 scroll-into-view.js \u2502 scrollbar-width.js \u2502 shared.js \u2502 types.js \u2502 util.js \u2502 vdom.js \u2502 vue-popper.js \u2502 \u251C\u2500menu \u2502 aria-menubar.js \u2502 aria-menuitem.js \u2502 aria-submenu.js \u2502 \u2514\u2500popup index.js popup-manager.js</p></blockquote><h3 id="build" tabindex="-1">build <a class="header-anchor" href="#build" aria-hidden="true">#</a></h3><blockquote><p>build \u2502 config.js \u2502 <a href="http://deploy-ci.sh" target="_blank" rel="noopener noreferrer">deploy-ci.sh</a> \u2502 <a href="http://deploy-faas.sh" target="_blank" rel="noopener noreferrer">deploy-faas.sh</a> \u2502 gen-single-config.js \u2502 <a href="http://git-release.sh" target="_blank" rel="noopener noreferrer">git-release.sh</a> \u2502 login.js \u2502 <a href="http://release.sh" target="_blank" rel="noopener noreferrer">release.sh</a> \u2502 webpack.common.js \u2502 webpack.component.js \u2502 webpack.conf.js \u2502 webpack.demo.js \u6587\u6863 \u2502 webpack.extension.js chrome \u63D2\u4EF6\u6269\u5C55 \u2502 webpack.test.js \u2502 \u251C\u2500bin \u2502 build-entry.js \u2502 build-locale.js \u2502 gen-cssfile.js \u2502 gen-indices.js \u2502 i18n.js \u2502 iconInit.js iconfont \u6587\u4EF6\u521D\u59CB\u5316 \u2502 new-lang.js \u2502 new.js \u2502 template.js \u2502 version.js \u2502 \u2514\u2500md-loader config.js containers.js fence.js index.js util.js</p></blockquote><p>bin/gen-cssfile \u6309\u7167components.json \u7F16\u5199 \u4E3B\u9898\u4E0B\u9762\u7684index.scss</p><p>config.js \u90E8\u7F72\u76EE\u5F55\u8BBE\u7F6E \u4E0D\u540C\u7684\u4E1C\u897F\u6784\u5EFA\u5230\u4E0D\u540C\u7684\u76EE\u5F55\uFF0Cbabelrc \u5BF9\u6587\u4EF6\u505A\u4E86\u91CD\u547D\u540D</p><p>webpack.common.js \u751F\u6210 element-ui.common.js \u6587\u4EF6\u6309\u9700\u5F15\u5165\u7684\u65F6\u5019\u4F7F\u7528\u8FD9\u4E2A\u6587\u4EF6\uFF0C\u9996\u5148\u56DE\u5230\u8FD9\u4E2A\u6587\u4EF6\u91CC\u9762\u627E\u7EC4\u4EF6\u6709\u6CA1\u6709\u5BFC\u51FA\u3002</p><p>webpack.component.js \u6784\u5EFA\u6BCF\u4E00\u4E2A\u7EC4\u4EF6\u5BF9\u5E94\u7684js</p><h2 id="package-json-scripts" tabindex="-1">package.json scripts <a class="header-anchor" href="#package-json-scripts" aria-hidden="true">#</a></h2><div class="language-"><pre><code>    &quot;start&quot;: &quot;pm2 start server/ecosystem.config.js &amp;&amp; pm2 log&quot;,
    &quot;bootstrap&quot;: &quot;yarn || npm i&quot;,
    &quot;build:file&quot;: &quot;node build/bin/iconInit.js &amp; node build/bin/build-entry.js &amp; node build/bin/i18n.js &amp; node build/bin/version.js&quot;,
    
    &quot;build:theme&quot;: &quot;node build/bin/gen-cssfile &amp;&amp; gulp build --gulpfile packages/theme-chalk/gulpfile.js &amp;&amp; cp-cli packages/theme-chalk/lib lib/theme-chalk&quot;,
    
    &quot;build:utils&quot;: &quot;cross-env BABEL_ENV=utils babel src --out-dir lib --ignore src/index.js&quot;,
    &quot;build:umd&quot;: &quot;node build/bin/build-locale.js&quot;,
    &quot;clean&quot;: &quot;rimraf lib &amp;&amp; rimraf packages/*/lib &amp;&amp; rimraf test/**/coverage&quot;,
    &quot;deploy:build&quot;: &quot;npm run build:file &amp;&amp; cross-env NODE_ENV=production webpack --config build/webpack.demo.js &amp;&amp; echo element.eleme.io&gt;&gt;examples/element-ui/CNAME&quot;,
    
    &quot;deploy:extension&quot;: &quot;cross-env NODE_ENV=production webpack --config build/webpack.extension.js&quot;,
    &quot;dev:extension&quot;: &quot;rimraf examples/extension/dist &amp;&amp; cross-env NODE_ENV=development webpack --watch --config build/webpack.extension.js&quot;,
    
    &quot;dev&quot;: &quot;npm run bootstrap &amp;&amp; cross-env PATH_ENV=bonc node build/bin/gen-cssfile &amp;&amp; npm run build:file &amp;&amp; cross-env NODE_ENV=development webpack-dev-server --config build/webpack.demo.js &amp; node build/bin/template.js&quot;,
    
    &quot;dev:boncloud&quot;: &quot;npm run bootstrap &amp;&amp; cross-env PATH_ENV=boncloud node build/bin/gen-cssfile &amp;&amp; npm run build:file &amp;&amp; cross-env NODE_ENV=development webpack-dev-server --config build/webpack.demo.js &amp; node build/bin/template.js&quot;,
    
    &quot;dev:play&quot;: &quot;npm run build:file &amp;&amp; cross-env NODE_ENV=development PLAY_ENV=true webpack-dev-server --config build/webpack.demo.js&quot;,
    
    &quot;dist&quot;: &quot;npm run clean &amp;&amp; npm run build:file &amp;&amp; npm run lint &amp;&amp; webpack --config build/webpack.conf.js &amp;&amp; webpack --config build/webpack.common.js &amp;&amp; webpack --config build/webpack.component.js &amp;&amp; npm run build:utils &amp;&amp; npm run build:umd &amp;&amp; npm run build:theme&quot;,
    
    &quot;dist:boncloud&quot;: &quot;npm run clean &amp;&amp; npm run build:file &amp;&amp; npm run lint &amp;&amp; webpack --config build/webpack.conf.js &amp;&amp; webpack --config build/webpack.common.js &amp;&amp; webpack --config build/webpack.component.js &amp;&amp; npm run build:utils &amp;&amp; npm run build:umd &amp;&amp; cross-env PATH_ENV=boncloud npm run build:theme&quot;,
    
    &quot;i18n&quot;: &quot;node build/bin/i18n.js&quot;,
    &quot;lint&quot;: &quot;eslint src/**/* test/**/* packages/**/* build/**/* --quiet&quot;,
    &quot;pub&quot;: &quot;npm run bootstrap &amp;&amp; sh build/git-release.sh &amp;&amp; sh build/release.sh &amp;&amp; node build/bin/gen-indices.js &amp;&amp; sh build/deploy-faas.sh&quot;,
    
    &quot;test&quot;: &quot;npm run lint &amp;&amp; npm run build:theme &amp;&amp; cross-env CI_ENV=/dev/ BABEL_ENV=test karma start test/unit/karma.conf.js --single-run&quot;,
    
    &quot;test:watch&quot;: &quot;npm run build:theme &amp;&amp; cross-env BABEL_ENV=test karma start test/unit/karma.conf.js&quot;,
    &quot;pub:boncloud&quot;: &quot;cross-env PATH_ENV=boncloud npm run dist &amp;&amp; npm login drshare bmyy7mwk@@ &amp;&amp; npm publish&quot;,
    &quot;log&quot;: &quot;node build/login.js &amp;&amp; npm publish  --access public&quot;
</code></pre></div><ol><li><p>start \u542F\u52A8\u6587\u6863\u90E8\u7F72 koa</p></li><li><p>deploy:build \u6784\u67B6\u6587\u6863</p><div class="language-js"><pre><code>webpack <span class="token operator">--</span>config build<span class="token operator">/</span>webpack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>js  \u6253\u5305\u751F\u6210\u6587\u6863\u6587\u4EF6\u3002
</code></pre></div></li><li><p>dsit: \u6784\u5EFA\u7EC4\u4EF6\u5E93 \u53D1\u5E03\u4F7F\u7528</p><div class="language-"><pre><code>npm run clean 
npm run build:file 
npm run lint 
webpack --config build/webpack.conf.js  \u751F\u6210index.js
webpack --config build/webpack.common.js  \u751F\u6210 element-ui.common.js  
webpack --config build/webpack.component.js   \u751F\u6210\u6BCF\u4E2A\u7EC4\u4EF6\u5BF9\u5E94\u7684 js\u6587\u4EF6
npm run build:utils
npm run build:umd 
npm run build:theme
</code></pre></div></li><li><p>pub:boncloud \u53D1\u5E03\u5230 npm</p><blockquote><p>\u5FC5\u987B\u4F7F\u7528 npm \u8FD0\u884C\u8FD9\u6761script \u4F7F\u7528yarn \u6216\u8005 cnpm \u7684\u8BDD\u56DE\u62A5\u9519</p></blockquote></li><li><p>dev:boncloud \u5F00\u53D1\u73AF\u5883</p></li><li><p>clean \u5220\u9664\u6253\u5305\u7684\u6587\u4EF6</p><div class="language-"><pre><code>rimraf lib
rimraf packages/*/lib
rimraf test/**/coverage  \u6D4B\u8BD5\u62A5\u544A
</code></pre></div></li><li><p>build:file</p><div class="language-"><pre><code>node build/bin/iconInit.js // \u63D0\u53D6icon\u7C7B\u540D \u751F\u6210 icon.json \u5728example \u4E0B\u8FB9
node build/bin/build-entry.js // \u751F\u6210src/index.js 
node build/bin/i18n.js  // \u751F\u6210\u591A\u8BED\u8A00vue\u6A21\u677F\u6587\u4EF6\uFF0C\u6587\u6863\u90E8\u5206\u7684\u6A21\u677F\u6587\u4EF6\u3002
node build/bin/version.js  // \u751F\u6210versions.json  \u6587\u6863\u4F1A\u7528\u5230 \u5207\u6362\u4E0D\u540C\u7248\u672C\u7684\u6587\u6863
</code></pre></div></li><li><p>build:theme</p><div class="language-js"><pre><code><span class="token number">1</span><span class="token punctuation">.</span>node build<span class="token operator">/</span>bin<span class="token operator">/</span>gen<span class="token operator">-</span>cssfile <span class="token comment">// \u751F\u6210index.scss \u6587\u4EF6</span>
<span class="token number">2</span><span class="token punctuation">.</span>gulp build <span class="token operator">--</span>gulpfile packages<span class="token operator">/</span>theme<span class="token operator">-</span>chalk<span class="token operator">/</span>gulpfile<span class="token punctuation">.</span>js <span class="token comment">// \u6253\u5305\u6837\u5F0Fscss \u53D8css</span>
<span class="token number">3</span><span class="token punctuation">.</span>p<span class="token operator">-</span>cli packages<span class="token operator">/</span>theme<span class="token operator">-</span>chalk<span class="token operator">/</span>lib lib<span class="token operator">/</span>theme<span class="token operator">-</span>chalk <span class="token comment">// \u6587\u4EF6\u590D\u5236\u5230lib \u4E0B\u9762</span>
</code></pre></div></li></ol>`,27),e=[o];function c(l,u,i,r,k,m){return a(),s("div",null,e)}var f=n(t,[["render",c]]);export{b as __pageData,f as default};
